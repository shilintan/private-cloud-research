# 交换机之战：OVS 与 LINUX BRIDGE（或“简单规则！”）

我必须直言不讳地说：开放虚拟交换机（OVS）对于基础设施即服务（IaaS）来说是错误的交换机。

这并不是说它是错误的虚拟交换机，甚至不是作为软件定义网络的基础层集成......但对于 IaaS 来说，它绝对是错误的解决方案，无论是对于托管服务提供商、企业还是大学。

#### 为什么选择OVS？

开放虚拟交换机最初是在大学环境中构思的，基于流的模型提供了开发原语，中央控制器决定了这些流的实际情况。在 IaaS 市场（具体来说，在 OpenStack IaaS 市场）中使用 OVS 作为虚拟交换机是因为支持 OVS 及其企业同等资源的资源希望确保有一个开放的模型来集成其服务，这是可以理解的进入 OpenStack。在此过程中，做出了许多决定，最终将 OVS 提升到虚拟交换机的“主要”位置。不幸的是，随着地位的提升，人们期望当软件定义网络 (SDN) 的预期时代到来时，OVS 将提供所有可能的交换世界中最好的。对 SDN 在云中普遍存在的过早预期，使得 OVS 作为“最佳”交换解决方案成为一个看似合理的赌注。对 SDN 在云中普遍存在的预期使 OVS 成为一个看似合理的赌注。

现在，如果 SDN 已经成为云事实上的标准，那么 OVS-as-King 解决方案就很可能变得非常有意义。但 OVS 的复杂性让人们渴望更简单的日子，那些日子他们只需使用 Linux Bridge 等简单的桥接技术来支持他们的云解决方案。

#### 为什么不使用 LINUX BRIDGE？

那么为什么不使用 Linux Bridge呢？甚至在 OVS 诞生之前，它就已经是一种替代交换机技术，并提供了与 Linux 内核中的虚拟转发层交互的简单模型。几乎在用户意识到可以让 Linux 机器将两个或多个物理网络端口连接在一起之前，它就已经存在了。真理的存在是有原因的，云系统领域的真理之一是简单总是胜过复杂。因此，Linux Bridge 虽然不是新事物，也不是最新的技术解决方案，但很可能成为虚拟云交换机之战的胜利者。Linux Bridge 更古老、更简单，可能使得 OVS 最初更具吸引力。Linux Bridge 更古老、更简单，可能使得 OVS 最初更具吸引力。但 OVS 模型的冠军们并不愿意不战而屈人之兵。OVS 支持者指出 Linux Bridge 缺乏可扩展的隧道模型。确实，Linux Bridge 支持 GRE 隧道，但不支持更新且更具可扩展性的 VXLAN 模型。最终，网络巨头参与了争论，因此，复杂的解决方案被认为比简单的解决方案更好，这可能并不太令人惊讶。

#### 为什么 LINUX BRIDGE 将赢得这场战斗

但让我们记住这条不言而喻的真理：简单胜过复杂。经过 OVS 所需的卷积之后，大规模生产环境现在越来越多地转向 Linux Bridge。OVS 过于复杂，导致网络领域的问题难以管理。当然，Linux Bridge 也发生了一些变化，这些变化也有助于缩小使用 OVS 和 Linux Bridge 的项目之间的差距，包括添加 VXLAN 支持作为隧道技术。但从更大的计划来看，Linux Bridge 的简单性赢得了胜利。

生产中，简单胜复杂；Linux Bridge 越来越成为云交换机的首选。在生产中，简单胜过复杂。Linux Bridge 是#cloud 交换机的首选。鉴于“即服务”环境的主要原则是汇集、共享和弹性资源（这意味着某种程度的同质性，加上正在建模并转变为服务的资源的一定程度的简化），一个简单的网络技术比复杂的技术更有意义。随着移除整个转发域层的技术的引入（绕过 L2 隔离，专门关注 L3 隔离），我们可能会看到简化流程的另一个转变，而简化流程一直是 IaaS 规模和支持背后的驱动引擎。

现在，使用简单且实用的 L2 交换层部署 IaaS 工具，并利用 Linux Bridge 并了解其简单的服务模型，以满足 IaaS 市场的大部分需求。不需要让事情复杂化。毕竟，正如列奥纳多·达·芬奇所说：“简单就是终极的复杂。”